{
    "AWSEBDockerrunVersion":2,
    "family":"",
    "volumes":[

    ],
    "containerDefinitions":[
        {
            "image":"mongo",
            "name":"mongo",
            "essential":true,
            "memory":200,
            "portMappings":[
                {
                    "containerPort":27017,
                    "hostPort":27017
                }
            ]
        },
        {
            "name":"mysqldb",
            "image":"673796305703.dkr.ecr.eu-central-1.amazonaws.com/chariot/mysqldb:latest",
            "essential":true,
            "memory":200,
            "portMappings":[
                {
                    "containerPort":3306,
                    "hostPort":3306
                }
            ]
        },
        {
            "name":"userlicense-service",
            "image":"673796305703.dkr.ecr.eu-central-1.amazonaws.com/chariot/userlicense-service:latest",
            "essential":true,
            "memory":250,
            "portMappings":[
                {
                    "containerPort":8080,
                    "hostPort":8081
                },
                {
                    "containerPort":8000,
                    "hostPort":8002
                }
            ],
            "links":[
                "mysqldb"
            ],
            "environment":[
                {
                    "name":"LS_JAVA_OPTS",
                    "value":"-Xmx50m -Xms30m"
                }
            ]
        },
        {
            "name":"gateway-webapp",
            "image":"673796305703.dkr.ecr.eu-central-1.amazonaws.com/chariot/gateway-webapp:latest",
            "essential":true,
            "memory":250,
            "portMappings":[
                {
                    "containerPort":8080,
                    "hostPort":80
                },
                {
                    "containerPort":8000,
                    "hostPort":9000
                }
            ],
            "links":[
                "mysqldb"
            ],
            "environment":[
                {
                    "name":"LS_JAVA_OPTS",
                    "value":"-Xmx50m -Xms30m"
                }
            ]
        },
        {
            "image":"confluentinc/cp-zookeeper",
            "name":"zookeeper",
            "essential":true,
            "memory":50,
            "portMappings":[
                {
                    "containerPort":2181,
                    "hostPort":2181
                }
            ],
            "environment":[
                {
                    "name":"ZOOKEEPER_TICK_TIME",
                    "value":"2000"
                },
                {
                    "name":"ZOOKEEPER_CLIENT_PORT",
                    "value":"2181"
                }
            ]
        },
        {
            "image":"confluentinc/cp-kafka",
            "name":"kafka",
            "essential":true,
            "memory":300,
            "portMappings":[
                {
                    "containerPort":9092,
                    "hostPort":9092
                }
            ],
            "environment":[
                {
                    "name":"KAFKA_HEAP_OPTS",
                    "value":"-Xmx200m -Xms200m"
                },
                {
                    "name":"KAFKA_DEFAULT_REPLICATION_FACTOR",
                    "value":"1"
                },
                {
                    "name":"KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR",
                    "value":"1"
                },
                {
                    "name":"KAFKA_ADVERTISED_HOST_NAME",
                    "value":"127.0.0.1"
                },
                {
                    "name":"KAFKA_ADVERTISED_LISTENERS",
                    "value":"PLAINTEXT://172.31.37.144:9092"
                },
                {
                    "name":"KAFKA_BROKER_ID",
                    "value":"1"
                },
                {
                    "name":"KAFKA_ZOOKEEPER_CONNECT",
                    "value":"172.31.37.144:2181"
                }
            ]
        },
        {
            "name":"gateway-hardware",
            "image":"673796305703.dkr.ecr.eu-central-1.amazonaws.com/chariot/gateway-hardware",
            "essential":true,
            "memory":200,
            "portMappings":[
                {
                    "containerPort":8080,
                    "hostPort":8090
                },
                {
                    "containerPort":8000,
                    "hostPort":8004
                }
            ],
            "links":[
                "kafka"
            ],
            "environment":[
                {
                    "name":"SPRING_KAFKA_BOOTSTRAP_SERVERS",
                    "value":"kafka:9092"
                }
            ]
        },
        {
            "name":"license-status-service",
            "image":"673796305703.dkr.ecr.eu-central-1.amazonaws.com/chariot/license-status-service",
            "essential":true,
            "memory":200,
            "portMappings":[
                {
                    "containerPort":8080,
                    "hostPort":8082
                },
                {
                    "containerPort":8000,
                    "hostPort":8003
                }
            ],
            "links":[
                "mongo",
                "userlicense-service",
                "kafka"
            ],
            "environment":[
                {
                    "name":"SPRING_KAFKA_BOOTSTRAP_SERVERS",
                    "value":"kafka:9092"
                }
            ]
        }
    ]
}